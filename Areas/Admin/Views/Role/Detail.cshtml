@model MyWebApp.ViewModels.RolePermissionViewModel

@{
    ViewData["Title"] = "Cập nhật quyền hạn";
}

<div class = "container mt-4">
    <h2 class = "text-primary mb-3">🔐 Quyền hạn cho: @Model.RoleName</h2>

    <form asp-action = "Detail" method = "post">
        @Html.AntiForgeryToken()
        <input type = "hidden" asp-for = "RoleId"/>

        <table class = "table table-bordered shadow-sm">
            <thead class = "table-dark">
            <tr>
                <th>Tên quyền</th>
                @* <th>Mã quyền</th> *@
                <th class = "text-center">Cho phép</th>
            </tr>
            </thead>
            <tbody>
            @for (int i = 0; i < Model.Permissions.Count; i++)
            {
                <tr>
                    <td>
                        @Model.Permissions[i].PermissionName
                        <input type = "hidden" asp-for = "Permissions[i].PermissionId"/>
                        <input type = "hidden" asp-for = "Permissions[i].PermissionName"/>
                        <input type = "hidden" asp-for = "Permissions[i].PermissionCode"/>
                    </td>
                    @* <td>@Model.Permissions[i].PermissionCode</td> *@
                    <td class = "text-center">
                        <div class = "form-check form-switch d-flex justify-content-center">
                            <input class = "form-check-input" type = "checkbox" asp-for = "Permissions[i].IsGranted" id = "toggle-@i"/>
                            <label class = "form-check-label" for = "toggle-@i"></label>
                        </div>
                    </td>
                </tr>
            }
            </tbody>
        </table>

        <div class = "d-flex justify-content-between align-items-center mt-4">
            <a asp-action = "Index" class = "btn btn-secondary">
                <i class = "bi bi-arrow-left-circle"></i> Quay lại
            </a>
            <button type = "submit" class = "btn btn-success">
                <i class = "bi bi-save"></i> Lưu thay đổi
            </button>
        </div>
    </form>
</div>
