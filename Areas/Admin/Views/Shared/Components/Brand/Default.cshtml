@model IEnumerable<MyWebApp.Models.Brand>
@{
    var selectedIds = ViewBag.SelectedBrandIds as List<Guid> ?? new();
}

@foreach (var brand in Model)
{
    <div class="form-check">
        <input class="form-check-input"
               type="checkbox"
               name="selectedBrandIds"
               value="@brand.Id"
               id="brand_@brand.Id"
               @(selectedIds.Contains(brand.Id) ? "checked" : "") />
        <label class="form-check-label" for="brand_@brand.Id">@brand.Name</label>
    </div>
}