@model MyWebApp.Models.Product

@{
    ViewData["Title"] = "Chi tiết sản phẩm - " + Model.Name;
}
<style>
    .badge {
        font-size: 1rem;
        padding: 0.5em 0.75em;
    }
</style>

<div class="container my-5">
    <div class="row g-5">
        <!-- Hình ảnh sản phẩm -->
        <div class="col-md-5">
            <div class="border rounded shadow-sm p-3 bg-white">
                <img src="~/img/product/@Model.Image" class="img-fluid rounded" alt="@Model.Name" />
            </div>
        </div>

        <!-- Thông tin sản phẩm -->
        <div class="col-md-7">
            <div class="border rounded shadow-sm p-4 bg-white">
                <h2 class="fw-bold text-primary">@Model.Name</h2>

                <p class="mt-3">
                    <i class="fa fa-tag me-1 text-muted"></i>
                    <strong>Giá:</strong>
                    <span class="text-danger fw-bold h4">@Model.Price.ToString("N0") ₫</span>
                </p>
                
                <p>
                    <i class="fa fa-boxes me-1 text-muted"></i>
                    <strong>Số lượng còn:</strong>
                    <span class="text-dark">@Model.Quantity</span>
                </p>

                <p>
                    <i class="fa fa-calendar-alt me-1 text-muted"></i>
                    <strong>Ngày tạo:</strong>
                    <span class="text-dark">@Model.CreatedAt.ToString("dd/MM/yyyy")</span>
                </p>

                <p>
                    <i class="fa fa-list-alt me-1 text-muted"></i>
                    <strong>Danh mục:</strong>
                    <span class="badge bg-info text-dark">@Model.Category?.Name</span>
                </p>

                <p>
                    <i class="fa fa-copyright me-1 text-muted"></i>
                    <strong>Thương hiệu:</strong>
                    <span class="badge bg-secondary">@Model.Brand?.Name</span>
                </p>

                <form asp-controller="Cart" asp-action="Add" asp-route-id="@Model.Id" method="post" class="d-grid">
                    <button type="submit" class="btn btn-success">
                        <i class="fa fa-cart-plus me-1"></i> Thêm vào giỏ hàng
                    </button>
                </form>
            </div>
        </div>
    </div>
    <!-- Mô tả sản phẩm -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="border rounded shadow-sm p-4 bg-light">
                <h4 class="text-dark fw-semibold mb-3">
                    <i class="fa fa-file-alt me-2 text-secondary"></i> Mô tả sản phẩm
                </h4>
                <div class="text-secondary fs-6" style="white-space: pre-line;">
                    @Model.Description
                </div>
            </div>
        </div>
    </div>
   <div class="review-section mt-5">
    <div class="card shadow-sm border-0">
        <div class="card-header bg-warning text-dark fw-bold">
            <i class="fa fa-star me-2"></i> Đánh giá & Bình luận
        </div>
        <div class="card-body">
            <form method="post" asp-action="AddComment" asp-controller="Product">
                <input type="hidden" name="ProductId" value="@Model.Id" />

                <!-- Rating -->
                <div class="mb-3">
                    <label for="Rating" class="form-label">Đánh giá sao:</label>
                    <select class="form-select w-auto d-inline-block" name="Rating" id="Rating">
                        <option value="5">⭐⭐⭐⭐⭐</option>
                        <option value="4">⭐⭐⭐⭐</option>
                        <option value="3">⭐⭐⭐</option>
                        <option value="2">⭐⭐</option>
                        <option value="1">⭐</option>
                    </select>
                </div>

                <!-- Comment content -->
                <div class="mb-3">
                    <label for="Content" class="form-label">Nội dung bình luận:</label>
                    <textarea class="form-control" name="Content" id="Content" rows="3" placeholder="Viết bình luận..." required></textarea>
                </div>

                <!-- Submit -->
                <button type="submit" class="btn btn-success">
                    <i class="fa fa-paper-plane me-1"></i> Gửi bình luận
                </button>
            </form>
        </div>
    </div>

    <!-- Danh sách bình luận -->
    <div class="mt-4">
        <h5 class="text-dark mb-3">
            <i class="fa fa-comments me-2 text-secondary"></i> Bình luận gần đây
        </h5>

        <div class="comments-list">
            <div class="alert alert-info">Chưa có bình luận nào.</div>
        </div>
    </div>
</div>

</div>
